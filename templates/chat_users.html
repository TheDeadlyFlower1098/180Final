{% extends base_template %}

{% block content %}
<div class="page-section">
  <h2>Select a user to chat with</h2>

  <!-- Search form -->
  <form method="POST" action="{{ url_for('chat_users') }}" class="form-group">
    <input 
      type="text" 
      name="search_query" 
      class="form-input full-width" 
      placeholder="Search for users..." 
      value="{{ search_query }}">
    <button class="cta-button" type="submit">Search</button>
  </form>

  <!-- User list -->
  <ul class="user-list">
    {% if users %}
      {% for user in users %}
        <li class="list-item">
          <a class="chat-user-link" href="{{ url_for('chat', receiver_id=user.UserID) }}">
            ðŸ’¬ {{ user.Username }}
          </a>
        </li>
      {% endfor %}
    {% else %}
      <li class="list-item">No users found.</li>
    {% endif %}
  </ul>
</div>
{% endblock %}
