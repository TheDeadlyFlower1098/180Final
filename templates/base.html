<!DOCTYPE html>
<html lang="en">  <!-- Define the language of the document as English -->
<head>
    <meta charset="UTF-8" />  <!-- Set the character encoding to UTF-8 -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>  <!-- Responsive design for mobile devices -->
    <title>Bloom</title>  <!-- Title displayed in the browser tab -->
    <link rel="stylesheet" href="../static/style/base.css">  <!-- Link to the main stylesheet -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">  <!-- Font Awesome for icons -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  </head>
<body>

<!-- Navigation bar section -->
<nav>
  <!-- Brand logo -->
  <div class="logo">Bloom üå∏</div>

  <!-- Menu toggle icon for mobile view -->
  <div class="menu-toggle" onclick="toggleMenu()">‚ò∞</div>

  <!-- Navigation links -->
  <div class="nav-links" id="navLinks">
    <a href="/">Home</a>  <!-- Home route -->
    <a href="/products">Products</a>  <!-- Products page -->
    {% if session.get('username') %}
    <a href="{{ url_for('chat_users') }}">üì® Chat</a>
    <!-- Show only if logged in -->
         <a href="{{ url_for('logout') }}">Logout</a>
  {% else %}
    <!-- Show only if not logged in -->
    <a href="{{ url_for('login') }}">Login</a>
    <a href="{{ url_for('signup') }}">Signup</a>
  {% endif %}
  </div>

  <!-- Search bar -->
  <form action="{{ url_for('search') }}" method="GET" class="search-bar">
    <input type="text" name="q" placeholder="Search products..." required />  <!-- Search input -->
    <button type="submit">üîç</button>  <!-- Search button -->
  </form>
</nav>

<!-- Main content container -->
<div class="container">
    {% block content %}  <!-- Placeholder for dynamic content -->
    {% endblock %}

    <!-- Cart icon link -->
    <a href="/cart" class="cart-button" title="View Cart">
      <i class="fas fa-shopping-cart"></i>  <!-- Cart icon -->
    </a>
</div>

<!-- Script for menu toggle functionality -->
<script>
  function toggleMenu() {
    const links = document.getElementById('navLinks');
    links.classList.toggle('active');
  }
</script>

<!-- Footer section -->
<footer class="site-footer">
    <div class="footer-container">
      <p>&copy; 2025 Bloom. All rights reserved.</p>  <!-- Copyright -->
      <div class="footer-links">
        <a href="/privacy-policy">Privacy Policy</a> |
        <a href="/terms-of-service">Terms of Service</a> |
        <a href="/contact-us">Contact Us</a>
      </div>
    </div>
</footer>

</body>
</html>
